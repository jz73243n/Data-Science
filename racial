import pandas as pd
import numpy as np
from scipy import stats

# Load Stata data
data = pd.io.stata.read_stata('/.../us_job_market_discrimination.dta')

# number of callbacks for black-sounding names
print('Number of Callbacks for Black-sounding names', sum(data[data.race == 'b'].call))
print('Number of Callbacks for White-sounding names', sum(data[data.race == 'w'].call))

data.head(5)


#Calculate the number of callbacks & no callbacks for black & white sounding names
black_white_callback = data.groupby(['race', 'call']).size().unstack('race')
black_white_callback.columns = ['Black', 'White'] #Name the columns

import matplotlib.pyplot as plt
_ = black_white_callback.plot.bar(title = 'Callback & No Callback', alpha = 0.5) 
plt.show()

print(black_white_callback)
